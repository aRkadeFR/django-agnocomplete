{% extends "base.html" %}
{% load static %}
{% block extra_head %}
<link rel="stylesheet" href="{% static 'css/jquery-ui.css' %}">
<style>
.ui-autocomplete-loading {
  background: white url({% static "css/images/ui-anim_basic_16x16.gif" %}) right center no-repeat;
}
</style>
{% endblock %}

{% block extra_body %}
        <script src="{% static 'js/jquery.js' %}" charset="utf-8"></script>
        <script src="{% static 'js/jquery-ui.js' %}"></script>
        <script type="text/javascript">
        $(document).ready(function() {
            $('[data-agnocomplete]').each(function(index, input) {
                $(input).autocomplete({
                    source: function(request, response) {
                        var element = $(this.element);
                        var url = $(element).data('url');
                        $.getJSON(
                            url,
                            {q: request.term},
                            function(data) {
                                response(data.data);
                            }
                        );
                    },
                    minLength: $(this).data("query-size"),
                    select: function(event, ui) {
                        event.preventDefault();
                        $(input).val(ui.item.label);
                    },
                    focus: function(event, ui) {
                        event.preventDefault();
                        $(input).val(ui.item.label);
                    }
                });
            });
        });
        </script>
{% endblock %}
